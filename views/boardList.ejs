<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <!-- fontawesome ICON -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
        crossorigin="anonymous">

    <link rel="stylesheet" href="/stylesheets/coding.css">

    <title>게시판</title>
</head>

<body>
    <% include ./part/navigation %>
        
    <!--컨텐츠 영역-->
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="card my-2">
                    <div class="card-header  bg-secondary">
                        <div class="card-title my-1">
                            <h4 class="my-1">
                                <i class="fas fa-clipboard-list"></i>&nbsp;&nbsp;게시판</h4>
                        </div>
                    </div>
                    <div class="card-body py-2">
                        <table class="table table-hover my-2">
                            <thead class="thead-dark">
                                <tr class="text-center">
                                    <th style="width: 10%;" class="text-left">No.</th>
                                    <th style="width: 40%;">제목</th>
                                    <th style="width: 30%;">작성자</th>
                                    <th>작성일</th>
                                </tr>
                            </thead>
                            <tbody class="text-center">
                                <% var i = 8*(page-1) + 1; %>
                                    <% for(var key in data) {%>
                                        <% if(key == 7 || key == count-8*(page-1) -1 ){ %>
                                        <tr style="border-bottom: 1px double darkgray">
                                        <% } else { %>
                                        <tr>
                                        <% } %>
                                            <td scope="row" class="text-left">
                                                <%= i%>.</td>
                                            <td>
                                                <a style="color: black" href="/board/<%=page%>/<%=data[key].boardID%>">
                                                    <%= data[key].title %>
                                                </a>
                                            </td>
                                            <td>
                                                <%= data[key].name %>
                                            </td>
                                            <td>
                                                <%= data[key].createdate %>
                                            </td>
                                        </tr>
                                    <% i++ }%>
                            </tbody>
                        </table>
                        <nav aria-label="Page navigation" class="d-flex justify-content-between" style="height: 38px;">
                            <div style="width: 86.17px"></div>
                            <ul class="pagination ">
                                <li class="page-item">
                                    <a class="page-link" href="/board/1" style="color: black;" aria-label="Previous">
                                        <span aria-hidden="true">&laquo;</span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                </li>
                                <% var endPoint = 0; %>
                                <% if(parseInt(count/8) < count/8) { %>
                                <%  endPoint = parseInt(count/8) + 1; %>
                                <% } else { %>
                                <%  endPoint = count/8; %>
                                <% } %>
                                <% for(var i=0; i < endPoint; i++) {%>
                                <% if(i == page-1) { %>
                                <li class="page-item disabled">
                                    <a class="page-link" href="/board/<%=i+1%>" style="color: black; background-color: gray;"><%= i+1 %></a>
                                </li>
                                <% } else { %>
                                <li class="page-item">
                                    <a class="page-link" href="/board/<%=i+1%>" style="color: black;"><%= i+1 %></a>
                                </li>
                                <% } %>
                                <% } %>
                                <li class="page-item">
                                    <a class="page-link" href="/board/<%=endPoint%>" style="color: black;" aria-label="Next">
                                        <span aria-hidden="true">&raquo;</span>
                                        <span class="sr-only">Next</span>
                                    </a>
                                </li>
                            </ul>
                            <div>
                                <a class="btn btn-outline-info ml" href="/create">작성하기</a>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--footer 영역-->
    <% include ./part/footer.html %>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

</body>

</html>